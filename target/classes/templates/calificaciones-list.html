<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Puntajes</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

	<!-- FAVICON -->
	<link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/512/6854/6854590.png" type="image/x-icon">

	<!-- Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300&display=swap" rel="stylesheet">

	<style>
		body {
			font-family: 'Roboto Slab', serif;
			background-color: #f5f5f5;
			margin: 0;
			padding: 0;
		}

		header {
			background-color: #343a40;
			padding: 10px;
		}

		header nav .button_cerrar {
			background-color: #28a745;
			color: white;
			border: none;
			padding: 12px 20px;
			border-radius: 5px;
			font-weight: bold;
			font-size: 16px;
		}

		header nav .button_cerrar:hover {
			background-color: #218838;
		}

		h1 {
			font-family: 'Righteous', sans-serif;
			text-align: center;
			margin: 20px 0;
			color: #0056b3;
			font-size: 2rem;
		}

		/* Formulario y tablas */
		.table-container {
			max-width: 100%;
			overflow-x: auto;
			margin: 20px 0;
			box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
			border-radius: 10px;
			background-color: white;
			padding: 20px;
		}

		table {
			width: 100%;
			text-align: center;
			border-collapse: collapse;
		}

		th,
		td {
			border: 1px solid #ddd;
			padding: 16px;
			font-size: 18px;
		}

		th {
			background-color: #007bff;
			/* Color de fondo azul */
			color: rgb(0, 0, 0);
			/* Color de texto blanco */
			font-weight: bold;
			/* Asegura que el texto sea más notorio */
		}

		td {
			color: #333;
		}

		input[type="text"],
		input[type="number"],
		select {
			color: black !important;
			/* Asegura que el texto siempre sea visible */
		}

		input[type="text"]:focus,
		input[type="number"]:focus,
		select:focus {
			outline: none;
			box-shadow: 0 0 5px #007bff;
		}

		/* Botón Resultado Detallado */
		.button-result {
			display: inline-block;
			padding: 15px 30px;
			background-color: #007bff;
			color: white;
			text-decoration: none;
			border-radius: 8px;
			margin-top: 30px;
			font-size: 1.2rem;
			transition: background-color 0.3s ease;
			border: none;
			/* Quitar borde */
		}

		.button-result:hover {

			box-shadow: 0 4px 8px rgb(255, 255, 255);
			/* Añadir sombra en hover */
		}

		.button-result:focus {
			outline: none;
			/* Sin contorno al enfocar */
			background-color: #007bff;
			/* Mantener color original al hacer clic */
		}

		/* Media Queries */
		@media (max-width: 768px) {
			h1 {
				font-size: 1.8rem;
			}

			th,
			td {
				padding: 12px;
				font-size: 16px;
			}

			.button_cerrar {
				font-size: 14px;
				padding: 10px 18px;
			}

			.button-result {
				font-size: 1rem;
				padding: 12px 24px;
			}
		}

		@media (max-width: 576px) {
			h1 {
				font-size: 1.5rem;
			}

			th,
			td {
				font-size: 14px;
			}

			.button_cerrar {
				font-size: 12px;
				padding: 8px 16px;
			}

			.button-result {
				font-size: 0.9rem;
				padding: 10px 20px;
			}
		}
	</style>
</head>

<script>
	document.addEventListener("DOMContentLoaded", function () {
		var nivelCells = document.querySelectorAll("td[class^='nivel-']");

		nivelCells.forEach(function (cell) {
			var nivel = cell.textContent.trim();
			if (nivel === "4") {
				cell.classList.add("nivel-verde");
			} else if (nivel === "3") {
				cell.classList.add("nivel-amarillo");
			} else if (nivel === "2") {
				cell.classList.add("nivel-azul");
			} else if (nivel === "1") {
				cell.classList.add("nivel-rojo");
			}
		});
	});
</script>

<script>
	function calcularNivel(puntaje) {
		if (puntaje == 0) {
			return 0;
		} else {
			return "N/A"; // Puedes cambiar esto según tu lógica si el puntaje no está en ningún rango.
		}
	}
</script>
<script>
	function calcularNivel(puntaje) {
		if (puntaje >= 191 && puntaje <= 300) {
			return 4;
		} else if (puntaje >= 156 && puntaje <= 190) {
			return 3;
		} else if (puntaje >= 126 && puntaje <= 155) {
			return 2;
		} else if (puntaje > 0 && puntaje <= 125) {
			return 1;
		} else if (puntaje == 0) {
			return 0;
		} else {
			return "N/A"; // Puedes cambiar esto según tu lógica si el puntaje no está en ningún rango.
		}
	}

	function calcularIngles(puntaje) {
		if (puntaje >= 191 && puntaje <= 300) {
			return "B2";
		} else if (puntaje >= 156 && puntaje <= 190) {
			return "B1";
		} else if (puntaje >= 140 && puntaje <= 155) {
			return "A2";
		} else if (puntaje >= 125 && puntaje <= 140) {
			return "A1";
		} else if (puntaje >= 0 && puntaje <= 125) {
			return "A0";
		} else {
			return "N/A"; // Puedes cambiar esto según tu lógica si el puntaje no está en ningún rango.
		}
	}

</script>

<script>
	document.addEventListener("DOMContentLoaded", function () {
		var rows = document.querySelectorAll("table tbody tr");

		rows.forEach(function (row) {
			var anuladoCell = row.querySelector("td:nth-child(3)"); // 3 es el índice de la columna "Anulado"

			if (anuladoCell.textContent.trim().toLowerCase() === "si") {
				row.style.backgroundColor = "#FF8A81"; // Aplica un fondo rojo a toda la fila
			}
		});
	});
</script>

<body>
	<main>
		<div class="text-center">
			<h1>Puntajes</h1>
		</div>
		<div class="container">
			<div class="table-container">
				<table class="custom-table table-striped"
					style="border: 2px solid black;  text-align: left; color: white; padding: 10px; border: 0px solid #ddd;">
					<thead style=" background-color:#A1D068;">
						<tr style="border: 2px solid black; font-family: 'Roboto Slab', serif; text-align: center;" class="">
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Cedula</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Numero Registro</strong>
							</td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Anulado</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Puntaje Total</strong>
							</td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Puntaje
									Total</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Comunicación
									Escrita</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Comunicación
									Escrita</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Razonamiento
									Cuantitativo</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Razonamiento
									Cuantitativo</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Lectura Critica</strong>
							</td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Lectura
									Critica</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Competencias
									Ciudadanas</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Competencias
									Ciudadanas</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Ingles</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Ingles</strong>
							</td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Formulación
									Proyectos</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Formulación
									Proyectos</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Pensamiento
									Científico</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Pensamiento
									Científico</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Diseño de
									Software</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Diseño de
									Software</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Nivel Ingles</strong>
							</td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Editar</strong></td>
							<td style="border: 1px solid #000; vertical-align: middle;"><strong>Eliminar</strong></td>
						</tr>
					</thead>
					<tbody
						style="vertical-align: middle; border: 2px solid black; text-align: center;	padding: 8px; border: px solid #ddd; color: white; align-items: center; color: rgb(0, 0, 0);">
						<tr style="border: 1px solid #000; vertical-align: middle;"
							th:each="calificacion : ${calificaciones}">
							<td style="border: 1px solid #000; vertical-align: middle;">[[
								${calificacion.estudiante.numeroDocumento} ]]</td>
							<td style="border: 1px solid #000; vertical-align: middle;">[[
								${calificacion.estudiante.numeroRegistro} ]]</td>
							<td style="border: 1px solid #000; vertical-align: middle;">[[ ${calificacion.anulado} ]]
							</td>
							<script th:inline="javascript">
								var puntaje1 = /*[(${calificacion.puntajeTotal} == 'N/A' ? 0 : ${calificacion.puntajeTotal})]*/ 0;
								var nivel1 = calcularNivel(puntaje1);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel1 + '">' + puntaje1 + '</td>');
							</script>

							<script th:inline="javascript">
								var puntaje1 = /*[(${calificacion.puntajeTotal} == 'N/A' ? 0 : ${calificacion.puntajeTotal})]*/ 0;
								var nivel1 = calcularNivel(puntaje1);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel1 + '">' + nivel1 + '</td>');
							</script>


							<script th:inline="javascript">
								var puntaje2 = /*[(${calificacion.comEscrita} == 'N/A' ? 0 : ${calificacion.comEscrita})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel2 = calcularNivel(puntaje2);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel2 + '">' + puntaje2 + '</td>');
							</script>

							<script th:inline="javascript">
								var puntaje2 = /*[(${calificacion.comEscrita} == 'N/A' ? 0 : ${calificacion.comEscrita})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel2 = calcularNivel(puntaje2);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel2 + '">' + nivel2 + '</td>');
							</script>


							<script th:inline="javascript">
								var puntaje3 = /*[(${calificacion.razonCuantitativo} == 'N/A' ? 0 : ${calificacion.razonCuantitativo})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel3 = calcularNivel(puntaje3);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel3 + '">' + puntaje3 + '</td>');
							</script>

							<script th:inline="javascript">
								var puntaje3 = /*[(${calificacion.razonCuantitativo} == 'N/A' ? 0 : ${calificacion.razonCuantitativo})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel3 = calcularNivel(puntaje3);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel3 + '">' + nivel3 + '</td>');
							</script>

							<script th:inline="javascript">
								var puntaje4 = /*[(${calificacion.lecturaCritica} == 'N/A' ? 0 : ${calificacion.lecturaCritica})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel4 = calcularNivel(puntaje4);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel4 + '">' + puntaje4 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje4 = /*[(${calificacion.lecturaCritica} == 'N/A' ? 0 : ${calificacion.lecturaCritica})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel4 = calcularNivel(puntaje4);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel4 + '">' + nivel4 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje5 = /*[(${calificacion.compeCiudadanas} == 'N/A' ? 0 : ${calificacion.compeCiudadanas})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel5 = calcularNivel(puntaje5);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel5 + '">' + puntaje5 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje5 = /*[(${calificacion.compeCiudadanas} == 'N/A' ? 0 : ${calificacion.compeCiudadanas})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel5 = calcularNivel(puntaje5);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel5 + '">' + nivel5 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje6 = /*[(${calificacion.ingles} == 'N/A' ? 0 : ${calificacion.ingles})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel6 = calcularNivel(puntaje6);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel6 + '">' + puntaje6 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje6 = /*[(${calificacion.ingles} == 'N/A' ? 0 : ${calificacion.ingles})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel6 = calcularNivel(puntaje6);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel6 + '">' + nivel6 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje7 = /*[(${calificacion.formProyectos} == 'N/A' ? 0 : ${calificacion.formProyectos})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel7 = calcularNivel(puntaje7);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel7 + '">' + puntaje7 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje7 = /*[(${calificacion.formProyectos} == 'N/A' ? 0 : ${calificacion.formProyectos})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel7 = calcularNivel(puntaje7);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel7 + '">' + nivel7 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje8 = /*[(${calificacion.penCientifico} == 'N/A' ? 0 : ${calificacion.penCientifico})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel8 = calcularNivel(puntaje8);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel8 + '">' + puntaje8 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje8 = /*[(${calificacion.penCientifico} == 'N/A' ? 0 : ${calificacion.penCientifico})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel8 = calcularNivel(puntaje8);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel8 + '">' + nivel8 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje9 = /*[(${calificacion.disenoSoftware} == 'N/A' ? 0 : ${calificacion.disenoSoftware})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel9 = calcularNivel(puntaje9);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel9 + '">' + puntaje9 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje9 = /*[(${calificacion.disenoSoftware} == 'N/A' ? 0 : ${calificacion.disenoSoftware})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel9 = calcularNivel(puntaje9);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel9 + '">' + nivel9 + '</td>');;
							</script>

							<script th:inline="javascript">
								var puntaje6 = /*[(${calificacion.ingles} == 'N/A' ? 0 : ${calificacion.ingles})]*/ 0; // Reemplaza esto con el valor adecuado
								var nivel = calcularIngles(puntaje6);
								var nivel6 = calcularNivel(puntaje6);
								document.write('<td style="border: 1px solid #000; vertical-align: middle;" class="nivel-' + nivel6 + '">' + nivel + '</td>');;
							</script>
							</td>
							<td>
								<a class="btn btn-warning"
									th:href="@{/calificaciones/edit/{id}(id=${calificacion.id})}">
									Editar
								</a>
							</td>
							<td>
								<a class="btn btn-danger"
									th:href="@{/calificaciones/delete/{id}(id=${calificacion.id})}"
									onclick="return confirm('¿Estás seguro de que deseas eliminar esta calificación?');">
									Eliminar
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
	</main>
	<div class="text-center">
		<a th:href="@{/calificaciones/new}" class="btn btn-primary"
			style="background-color:#0A0A61; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);  margin-top: 2%; color: aliceblue; font-size: 120%;  border-radius: 10px;  border: #00121e;">
			AGREGAR
		</a>
		<a href="javascript:history.back()" class="btn btn-secondary"
			style="background-color:rgb(255, 0, 0); box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-top: 2%; color: aliceblue; font-size: 120%; border-radius: 10px; border: #00121e;">
			Volver
		</a>
	</div>
</body>


</html>